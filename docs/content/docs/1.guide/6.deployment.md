---
title: Deployment
description: Ship your app to production.
navigation:
  icon: i-lucide-rocket
---

Your app works locally. Now let's get it live.

## Convex Production Deployment

First, deploy your Convex backend to production:

```bash
npx convex deploy
```

This creates a production deployment separate from your dev environment. You'll get a production URL like `https://your-app.convex.cloud`.

## Environment Variables

You need these variables in your hosting platform:

| Variable | Value | Where to find it |
|----------|-------|------------------|
| `CONVEX_URL` | `https://your-app.convex.cloud` | Convex Dashboard → Settings |
| `CONVEX_SITE_URL` | `https://your-app.convex.site` | Convex Dashboard → Settings → URL & Deploy Key |

For authentication, also set these in **Convex Dashboard → Settings → Environment Variables**:

| Variable | Value |
|----------|-------|
| `BETTER_AUTH_SECRET` | Generate with `openssl rand -base64 32` |
| `SITE_URL` | Your production URL (e.g., `https://myapp.com`) |

## Vercel

**1. Connect your repo:**

Go to [vercel.com](https://vercel.com), import your repository.

**2. Set environment variables:**

In Project Settings → Environment Variables, add:

```
CONVEX_URL=https://your-app.convex.cloud
CONVEX_SITE_URL=https://your-app.convex.site
```

**3. Deploy:**

Push to your main branch. Vercel builds and deploys automatically.

**Preview deployments:**

For preview URLs to work with auth, add them to `trustedOrigins`:

```ts [nuxt.config.ts]
convex: {
  trustedOrigins: [
    'https://*.vercel.app',
  ],
}
```

And update `SITE_URL` in Convex to include preview patterns, or use a wildcard setup.

## Netlify

**1. Connect your repo:**

Go to [netlify.com](https://netlify.com), import your repository.

**2. Build settings:**

- Build command: `npm run build` (or `pnpm build`)
- Publish directory: `.output/public` (for static) or leave default for SSR

**3. Environment variables:**

In Site Settings → Environment Variables:

```
CONVEX_URL=https://your-app.convex.cloud
CONVEX_SITE_URL=https://your-app.convex.site
```

**4. For SSR:**

Netlify needs the Nuxt adapter. In `nuxt.config.ts`:

```ts
export default defineNuxtConfig({
  nitro: {
    preset: 'netlify',
  },
})
```

## Cloudflare Pages

**1. Connect your repo:**

Go to Cloudflare Dashboard → Pages → Create a project.

**2. Build settings:**

- Build command: `npm run build`
- Build output directory: `dist`

**3. Environment variables:**

Add in Settings → Environment Variables.

**4. For SSR:**

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  nitro: {
    preset: 'cloudflare-pages',
  },
})
```

## Production Checklist

Before going live:

### Security

- [ ] `BETTER_AUTH_SECRET` is set and unique for production
- [ ] `SITE_URL` matches your actual domain
- [ ] Remove any test/demo credentials
- [ ] Backend mutations check authentication
- [ ] Sensitive routes have permission checks

### Performance

- [ ] Enable auth caching for high traffic:

```ts
convex: {
  authCache: { enabled: true, ttl: 900 },
}
```

- [ ] Skip auth on public pages:

```ts
convex: {
  skipAuthRoutes: ['/', '/blog/**', '/docs/**'],
}
```

- [ ] Use `server: true` only for critical SEO pages
- [ ] Large lists use pagination

### Configuration

- [ ] All environment variables set in hosting platform
- [ ] Convex production deployment is active (`npx convex deploy`)
- [ ] `trustedOrigins` includes preview URLs if needed
- [ ] Logging disabled or set to `json` for production:

```ts
convex: {
  logging: {
    enabled: process.env.NODE_ENV !== 'production',
  },
}
```

### Testing

- [ ] Test login/logout flow
- [ ] Test protected routes redirect properly
- [ ] Test real-time updates work
- [ ] Test on mobile devices
- [ ] Test with slow network (DevTools throttling)

## Common Deployment Issues

**"CONVEX_URL is undefined"**

Environment variable not set in hosting platform. Add it in your dashboard.

**Auth not working in production:**

1. Check `SITE_URL` in Convex matches your actual domain
2. Check `CONVEX_SITE_URL` is set correctly (`.convex.site` not `.convex.cloud`)
3. Make sure the auth proxy route exists: `server/routes/api/auth/[...path].ts`

**WebSocket connection fails:**

1. Check `CONVEX_URL` is correct
2. Some hosts require WebSocket support — check your plan
3. Check for CORS issues in browser console

**SSR queries return null:**

1. Check environment variables are available at build time
2. Verify auth token is being passed correctly

## Monitoring

After deployment, monitor your app:

**Convex Dashboard:**

- Functions → Logs: See all query/mutation executions
- Functions → Metrics: Performance data
- Data → View your production database

**Application Monitoring:**

Consider adding error tracking:

```ts
// Example with Sentry
import * as Sentry from '@sentry/nuxt'

Sentry.init({
  dsn: 'your-dsn',
  environment: process.env.NODE_ENV,
})
```

## Rollback

If something goes wrong:

**Nuxt app:** Redeploy a previous commit through your hosting platform.

**Convex backend:** Convex keeps deployment history. Contact support or use the CLI to redeploy a previous version.

## Next Steps

Your app is live. Consider:

- Setting up a staging environment
- Configuring custom domains
- Adding analytics
- Setting up error alerting
